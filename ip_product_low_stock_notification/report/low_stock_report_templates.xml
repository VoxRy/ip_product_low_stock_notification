<?xml version="1.0"?>
<odoo>
  <!-- Human name is optional; t-name is required and MUST match the report action's report_name -->
  <template id="report_low_stock_document"
            name="Low Stock Report"
            t-name="ip_product_low_stock_notification.low_stock_report">
    <t t-call="web.html_container">
      <t t-foreach="docs" t-as="o">
        <t t-call="web.external_layout">
          <div class="page">
            <h2>Low Stock Report</h2>

            <p t-if="o.location_id">
              <strong>Location:</strong>
              <span t-field="o.location_id.name"/>
            </p>

            <table class="table table-condensed">
              <thead>
                <tr>
                  <th>Internal Reference</th>
                  <th>Product</th>
                  <th>Current Quantity</th>
                  <th>Minimum Quantity</th>
                </tr>
              </thead>
              <tbody>
                <tr t-foreach="o.low_stock_report_line_ids" t-as="product_item">
                  <td><t t-esc="product_item.product_id.default_code or ''"/></td>
                  <td><span t-field="product_item.product_id.name"/></td>
                  <td><span t-field="product_item.current_quantity"/></td>
                  <td><span t-field="product_item.minimum_quantity"/></td>
                </tr>
              </tbody>
            </table>
          </div>
        </t>
      </t>
    </t>
  </template>
</odoo>
